---
title: "Carpentries Rmd Example"
output: github_document
---

# Script purposes and organization
This is an example Rmd script developed during a Carpentries workshop. In this script, we will develop a workflow and report that does the following tasks:
 1. Prepares the R environment
 2. Download and save USGS stream stage data
 3. Tidy, QAQC, and gap-fill the data and save the processed data
 4. Write up some summary statistics.

## 1. Prepare the R environment
We will load any relevant packages and set the default for our code to appear in our final markdown document.

```{r setup}
knitr::opts_chunk$set(echo = TRUE)
library(dataRetrieval)
library(dplyr)
library(zoo)
library(lubridate)
library(ggplot2)
```

## 2. Download and save USGS stream stage data.
We will use the `readNWISdv` function from the `dataRetrieval` package to download stream stage data for the USGS gage on the Arkansas River near Larned KS. To do this, we will need to provide the 8-digit gage ID number (07141220), the start/end date, and the parameter code for stage (00065; discharge is 00060).

```{r download-data}

# gage ID
usgs_id <- "07141220"

# download data
data_raw <- 
  readNWISdv(siteNumbers = usgs_id,
             parameterCd = "00065",
             startDate = "2018-10-01",
             endDate = "2021-09-30")

# inspect data
summary(data_raw)

# save data
write.csv(data_raw, "data/ExampleStreamStage_Raw.csv")
```

